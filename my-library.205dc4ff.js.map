{"mappings":"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","sources":["src/my-lybrary.js","src/js/add-to-watched.js","src/js/empty-page.js","src/js/add-to-queue.js","src/js/on-myLibrary-click.js","src/js/open-modal-gallery.js","src/js/switch-theme-library.js"],"sourcesContent":["import './js/modal-footer';\nimport './js/add-to-watched';\nimport './js/add-to-queue';\nimport './js/loader';\nimport './js/empty-page';\n// import './js/firebaseUI';\nimport './js/on-myLibrary-click';\nimport './js/modernizr-custom';\nimport './js/modal-footer';\nimport './js/open-modal-gallery';\nimport './js/switch-theme-library';\n","import { renderLibraryCrads } from './renderLibraryCrads';\nimport { checkLocalStorage, renderEmptyImage } from './empty-page';\n\nconst watchedBtn = document.querySelector('.watched-btn');\nconst galleryRef = document.querySelector('.gallery');\nconst queueBtn = document.querySelector('.queue-btn');\nconst emptyRef = document.querySelector('.main-library__empty-page');\nconst popcornImg = document.querySelector('.empty-page__img');\n\nwatchedBtn.addEventListener('click', onWatchedBtnClick);\n\nasync function onWatchedBtnClick() {\n  clearContent();\n  watchedBtn.classList.add('is-active');\n  queueBtn.classList.remove('is-active');\n  try {\n    const watched = JSON.parse(localStorage.getItem('watched'));\n    if (!watched || watched.length === 0) {\n      // emptyRef.innerHTML = '';\n      checkLocalStorage();\n      return;\n    } else if (popcornImg.classList.contains('hide')) {\n      // const parseWatched = JSON.parse(watched);\n      emptyRef.innerHTML = '';\n      renderLibraryCrads(watched);\n      return;\n    }\n    popcornImg.classList.toggle('hide');\n    // const parseWatched = JSON.parse(watched);\n    emptyRef.innerHTML = '';\n\n    renderLibraryCrads(watched);\n    return;\n  } catch (error) {\n    console.log(error);\n  }\n}\nexport function clearContent() {\n  galleryRef.innerHTML = '';\n}\n","const emptyPageRef = document.querySelector('.empty-page');\nconst imgRef = document.querySelector('.empty-page__img');\n\nfunction checkLocalStorage() {\n  const watched = JSON.parse(localStorage.getItem('watched'));\n  const queue = JSON.parse(localStorage.getItem('queue'));\n\n  try {\n    if ((!queue || queue.length > 0) && (!watched || watched.length === 0)) {\n      imgRef.classList.remove('hide');\n      renderEmptyImage();\n      return;\n    } else if (watched.length > 0 && queue.length > 0) {\n      return;\n    } else if (queue.length > 0) {\n      return;\n    } else if (watched.length > 0 && queue.length === 0) {\n      imgRef.classList.remove('hide');\n      renderEmptyImage();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderEmptyImage() {\n  const markup = `<p class=\"empty-page__notification\">Sorry ü§∑‚Äç‚ôÇÔ∏è! <br> There are no movies in Your library yet. So, grab Your popcorn bucket and come back to us!</p>`;\n  return (emptyPageRef.innerHTML = markup);\n}\n\nexport { checkLocalStorage, renderEmptyImage };\n\nfunction renderPopcornImg() {\n  const watched = JSON.parse(localStorage.getItem('watched'));\n  const queue = JSON.parse(localStorage.getItem('queue'));\n  try {\n    if ((!watched || watched.length === 0) && (!queue || queue.length > 0)) {\n      imgRef.classList.remove('hide');\n      renderEmptyImage();\n      return;\n    } else if (watched.length === 0 && queue.length === 0) {\n      imgRef.classList.remove('hide');\n      renderEmptyImage();\n      return;\n    } else if (watched.length > 0) {\n      return;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nrenderPopcornImg();\n","import { renderLibraryCrads } from './renderLibraryCrads';\nimport { clearContent } from './add-to-watched';\n// import { renderEmptyImage } from './empty-page';\nimport { checkLocalStorage } from './empty-page';\nimport { prependOnceListener } from 'process';\n\nconst queueBtn = document.querySelector('.queue-btn');\nconst watchedBtn = document.querySelector('.watched-btn');\nconst popcornImg = document.querySelector('.empty-page__img');\nconst emptyDiv = document.querySelector('.main-library__empty-page');\n\nqueueBtn.addEventListener('click', onQueueBtnClick);\n\nasync function onQueueBtnClick() {\n  queueBtn.classList.add('is-active');\n  watchedBtn.classList.remove('is-active');\n  clearContent();\n\n  try {\n    const queue = JSON.parse(localStorage.getItem('queue'));\n\n    if (!queue || queue.length === 0) {\n      // const emptyRef = document.querySelector('.empty-page');\n      // emptyRef.innerHTML = '';\n      checkLocalStorage();\n      return;\n    } else if (queue.length !== 0) {\n      if (popcornImg.classList.contains('hide')) {\n        renderLibraryCrads(queue);\n        return;\n      }\n      popcornImg.classList.add('hide');\n      emptyDiv.innerHTML = '';\n      renderLibraryCrads(queue);\n      return;\n    }\n    // emptyRef.innerHTML = '';\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { checkLocalStorage, renderEmptyImage } from './empty-page';\nimport { renderLibraryCrads } from './renderLibraryCrads';\nimport { clearContent } from './add-to-watched';\n\n// const myLibraryLink = document.querySelector('.library-link');\n// console.log(myLibraryLink)\n//myLibraryLink.addEventListener('click', onLibraryClickHandler);\n\nconst watched = JSON.parse(localStorage.getItem('watched'));\nconst queue = JSON.parse(localStorage.getItem('queue'));\nconst watchedBtn = document.querySelector('.watched-btn');\nconst queueBtn = document.querySelector('.queue-btn');\n\nexport function onLibraryClickHandler() {\n  //evt.preventDefault();\n  watchedBtn.classList.add('is-active');\n  try {\n    if (!watched || watched.length === 0) {\n      checkLocalStorage();\n      return;\n    } else if (watched.length !== 0) {\n      clearContent();\n      // watchedBtn.classList.add('is-active');\n      // const parseWatched = JSON.parse(watched);\n      renderLibraryCrads(watched);\n      // const emptyDiv = document.querySelector('.empty-page');\n      // emptyDiv.innerHTML = '';\n      return;\n    } else if (queue.length !== 0) {\n      clearContent();\n      queueBtn.classList.add('is-active');\n      // const parseQueue = JSON.parse(queue);\n\n      renderLibraryCrads(queue);\n      return;\n    }\n    // if (watched) {\n    //   clearContent();\n    //   // watchedBtn.classList.add('is-active');\n    //   const parseWatched = JSON.parse(watched);\n    //   console.log(parseWatched);\n    //   renderLibraryCrads(parseWatched);\n    //   // const emptyDiv = document.querySelector('.empty-page');\n    //   // emptyDiv.innerHTML = '';\n    //   return;\n    // } else if (queue) {\n    //   clearContent();\n    //   queueBtn.classList.add('is-active');\n    //   const parseQueue = JSON.parse(queue);\n\n    //   renderLibraryCrads(parseQueue);\n    //   return;\n    //}\n    else if (watched.length === 0 || queue.length === 0) {\n      checkLocalStorage();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\nonLibraryClickHandler();\n","import { modalCardRender } from './modalCardRender';\nimport { getMovie } from './movieById';\nimport { addListenerByBtns } from './adding-watched-movies';\nimport { renderLibraryCrads } from './renderLibraryCrads';\nimport { checkLocalStorage } from './empty-page';\nconst filmCardsRef = document.querySelector('.gallery');\nconst backdropRef = document.querySelector('.backdrop');\nconst modalRef = document.querySelector('.modal');\nconst modalCloseBtn = document.querySelector('.modal-btn');\nconst watchedBtn = document.querySelector('.watched-btn');\nconst galleryRef = document.querySelector('.gallery');\nconst queueBtn = document.querySelector('.queue-btn');\nconst moviesWtc = JSON.parse(localStorage.getItem('watched'));\nconst moviesQue = JSON.parse(localStorage.getItem('queue'));\nfilmCardsRef.addEventListener('click', onFilmCardsClick);\nfunction onFilmCardsClick(e) {\n  e.preventDefault();\n  document.addEventListener('keydown', onEscTap);\n  backdropRef.addEventListener('click', onClickCloseBtnOrOutside);\n  modalCloseBtn.addEventListener('click', onClickCloseBtnOrOutside);\n  if (e.target.nodeName === 'IMG') {\n    const movieId = e.target.dataset.id;\n    openModal(movieId);\n  }\n}\nasync function openModal(movieId) {\n  const btnW = document.querySelector('button[data-add=\"watched\"]');\n  const btnQ = document.querySelector('button[data-add=\"queue\"]');\n  backdropRef.classList.remove('is-hidden');\n  const movie = await getMovie(movieId);\n  modalCardRender(movie.data);\n  addListenerByBtns(movie);\n  const btns = document.querySelector('.btns-box');\n  btns.addEventListener('click', e => {\n    refreshGallery();\n  });\n}\nfunction onEscTap(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n    checkLocalStorage();\n  }\n}\nfunction onClickCloseBtnOrOutside(e) {\n  if (\n    e.currentTarget.classList.value === 'modal-btn' ||\n    e.target.classList.value === 'backdrop'\n  ) {\n    closeModal();\n    checkLocalStorage();\n  }\n}\nfunction closeModal() {\n  backdropRef.classList.toggle('is-hidden');\n  document.removeEventListener('keydown', onEscTap);\n  backdropRef.removeEventListener('click', onClickCloseBtnOrOutside);\n  const wrapper = document.querySelector('.wrapper');\n  wrapper.remove();\n  // refreshGallery();\n}\nasync function refreshGallery() {\n  const watchedBtn = document.querySelector('.watched-btn');\n  const galleryRef = document.querySelector('.gallery');\n  const queueBtn = document.querySelector('.queue-btn');\n  const moviesWtc = await JSON.parse(localStorage.getItem('watched'));\n  const moviesQue = await JSON.parse(localStorage.getItem('queue'));\n  if (queueBtn.classList.contains('is-active')) {\n    renderLibraryCrads(moviesQue);\n  }\n  if (watchedBtn.classList.contains('is-active')) {\n    renderLibraryCrads(moviesWtc);\n  }\n}\n","const swithThemeBtn = document.querySelector('.header__theme-btn');\nconst bodyRef = document.querySelector('.body');\nconst footerRef = document.querySelector('.footer');\nconst footerTextRef = document.querySelector('.footer-text');\nconst footerLinkRef = document.querySelector('.footer-link');\n\nswithThemeBtn.addEventListener('click', switchToDarkTheme);\n\nfunction switchToDarkTheme() {\n  bodyRef.classList.toggle('dark-theme');\n  const cardsMovieRef = document.querySelectorAll('.movie-info');\n  footerRef.classList.toggle('footer__dark');\n  footerTextRef.classList.toggle('footer-text__dark');\n  footerLinkRef.classList.toggle('footer-link__dark');\n}\n"],"names":["parcelRequire","$di8UB","$f4c32f5ec9b850c1$var$emptyPageRef","document","querySelector","$f4c32f5ec9b850c1$var$imgRef","$f4c32f5ec9b850c1$export$2d418a2de553de06","watched","JSON","parse","localStorage","getItem","queue","length","classList","remove","$f4c32f5ec9b850c1$export$2e7980a1725c02e7","error","console","log","innerHTML","$f4c32f5ec9b850c1$var$renderPopcornImg","$a0a4ec25fbda4c4f$var$watchedBtn","$a0a4ec25fbda4c4f$var$galleryRef","$a0a4ec25fbda4c4f$var$queueBtn","$a0a4ec25fbda4c4f$var$emptyRef","$a0a4ec25fbda4c4f$var$popcornImg","$a0a4ec25fbda4c4f$export$5d3955f796e22601","addEventListener","async","add","contains","renderLibraryCrads","toggle","$8604b1e63f9cc1df$var$queueBtn","$8604b1e63f9cc1df$var$watchedBtn","$8604b1e63f9cc1df$var$popcornImg","$8604b1e63f9cc1df$var$emptyDiv","$7f1173ba6a5e420d$var$watched","$7f1173ba6a5e420d$var$queue","$7f1173ba6a5e420d$var$watchedBtn","$7f1173ba6a5e420d$var$queueBtn","$7f1173ba6a5e420d$export$711a37ce4fde6596","$cQtx9","$715813952048e026$var$filmCardsRef","$715813952048e026$var$backdropRef","$715813952048e026$var$modalCloseBtn","$715813952048e026$var$onEscTap","e","key","$715813952048e026$var$closeModal","$715813952048e026$var$onClickCloseBtnOrOutside","currentTarget","value","target","removeEventListener","preventDefault","nodeName","movieId","movie","$dljy3","getMovie","modalCardRender","data","$1gFVY","addListenerByBtns","watchedBtn","queueBtn","moviesWtc","moviesQue","$715813952048e026$var$refreshGallery","$715813952048e026$var$openModal","dataset","id","$57cd666bfb76a59d$var$swithThemeBtn","$57cd666bfb76a59d$var$bodyRef","$57cd666bfb76a59d$var$footerRef","$57cd666bfb76a59d$var$footerTextRef","$57cd666bfb76a59d$var$footerLinkRef","querySelectorAll"],"version":3,"file":"my-library.205dc4ff.js.map"}