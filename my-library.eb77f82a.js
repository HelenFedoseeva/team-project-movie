!function(){document.querySelector(".header-login__button").addEventListener("click",(function(e){e.preventDefault()}));const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),n=document.querySelectorAll(".lock-padding");let o=!0;const c=800;if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){const t=n.getAttribute("href").replace("#","");r(document.getElementById(t)),e.preventDefault()}))}const l=document.querySelectorAll(".close-popup");if(l.length>0)for(let e=0;e<l.length;e++){const t=l[e];t.addEventListener("click",(function(e){i(t.closest(".popup")),e.preventDefault()}))}function r(e){if(e&&o){const l=document.querySelector(".popup.open");l?i(l,!1):function(){const e=window.innerWidth-document.querySelector("body").offsetWidth+"px";if(n.length>0)for(let t=0;t<n.length;t++){n[t].style.paddingRight=e}t.style.paddingRight=e,t.classList.add("lock"),o=!1,setTimeout((function(){o=!0}),c)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||i(e.target.closest(".popup"))}))}}function i(e,l=!0){o&&(e.classList.remove("open"),l&&(setTimeout((function(){if(n.length>0)for(let e=0;e<n.length;e++)n[e].style.paddingRight="0px";t.style.paddingRight="0px",t.classList.remove("lock")}),c),o=!1,setTimeout((function(){o=!0}),c)))}function s(e){const t=document.querySelector(".gallery"),n=e.map((e=>{const t=e.data,{poster_path:n,genres:o,title:c,release_date:l}=t;return`<li class="movie-card">\n      <img src="https://image.tmdb.org/t/p/w500${n}" alt="${c} class="movie-card-img"/>\n      <div class="movie-info">\n      <p class="movie-title">${c}</p>\n      <p class="film-cards__title movie-genres">${o[0].name}, ${o[1].name} | ${l.slice(0,4)}</p>\n      </div>\n    </li>`})).join("");t.insertAdjacentHTML("beforeend",n)}document.addEventListener("keydown",(function(e){if("Escape"===e.key){const e=document.querySelector(".popup.open");e&&i(e)}}));const a=document.querySelector(".main-library__empty-page");function u(){return a.insertAdjacentHTML("afterbegin",'<p class="empty-page__notification">Sorry ü§∑‚Äç‚ôÇÔ∏è! <br> There are no movies in Your library yet. So, grab Your popcorn bucket and come back to us!</p>')}!function(){const e=localStorage.getItem("watched"),t=localStorage.getItem("queue");if(e||t)return;document.querySelector(".opacity").classList.remove("opacity"),u()}();const d=document.querySelector(".watched-btn"),p=document.querySelector(".gallery"),m=document.querySelector(".queue-btn");function g(){p.innerHTML=""}d.addEventListener("click",(async function(){g(),d.classList.add("is-active"),m.classList.remove("is-active");try{const e=localStorage.getItem("watched"),t=JSON.parse(e);e||u(),s(t)}catch(e){console.log(e)}}));const y=document.querySelector(".queue-btn"),f=document.querySelector(".watched-btn");y.addEventListener("click",(async function(){y.classList.add("is-active"),f.classList.remove("is-active"),g();try{const e=JSON.parse(localStorage.getItem("queue"));null===e&&u(),s(e)}catch(e){console.log(e)}}));document.querySelector(".loader");const S=localStorage.getItem("watched"),v=localStorage.getItem("queue"),h=document.querySelector(".watched-btn"),q=document.querySelector(".queue-btn");!async function(){try{if(S){g(),h.classList.add("is-active");s(JSON.parse(S));return void(document.querySelector(".empty-page").innerHTML="")}if(v){g(),q.classList.add("is-active");return void s(JSON.parse(v))}null!==S&&null!==v||u()}catch(e){console.log(e)}}()}();
//# sourceMappingURL=my-library.eb77f82a.js.map
